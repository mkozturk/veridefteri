{
  "hash": "74f7c87acf99a2e76eef76998c3de679",
  "result": {
    "markdown": "---\ntitle: Python Programlamaya Giriş 20 - Dosya okuma ve yazma\nauthor: Kaan Öztürk\ncategories:\n    - Python Programlamaya Giriş\ndate: April 11, 2018\nimage: 687c0-www.maxpixel.net-protea-flower-plant-red-color-bloom-flower-garden-841676.jpg\ncode-fold: false\n---\n\nYazı dizimizin bu bölümünde, dosya okuma ve yazma yöntemlerinden bahsedeceğiz. Önce herhangi bir özel şekilde yapılanmamış olan düz metin dosyalarını işlemeyi göreceğiz. Ardından `csv` modülüyle CSV biçiminde yapılanmış dosyaları okuyup yazmayı inceleyeceğiz. JSON, ZIP, PDF, Word, Excel, HTML dosyalarının işlenmesine kısaca değineceğiz. Son olarak, Python oturumunda yarattığımız nesneleri ikili (binary) formda dosyaya kaydetmemizi ve sonra dosyadan tekrar yüklememizi sağlayan `pickle` modülünün kullanımını özetleyeceğiz.\n\n## Genel dosya okuma/yazma\n\n### Dosya okumak\n\nÖncelikle, IPython sihirleriyle _deneme.txt_ isimli bir dosya yaratalım (Jupyter kullanmıyorsanız aşağıdaki metni bir metin editörüne kopyalayıp _deneme.txt_ ismiyle çalışma dizininize kaydedebilirsiniz).\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\n%%writefile deneme.txt\nEy Türk Gençliği!\nBirinci vazifen, \nTürk istiklâlini, Türk Cumhuriyeti'ni, \nilelebet muhafaza ve müdafaa etmektir.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nWriting deneme.txt\n```\n:::\n:::\n\n\nBir dosyayı açmak için `open()` fonksiyonunu kullanırız. En basit halinde `open()` mevcut bir metin dosyasını okumak için açar ve bir dosya nesnesi döndürür.\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nf = open(\"deneme.txt\")\n```\n:::\n\n\nDosya nesnesinin `read()` metodu dosya içeriğini tek bir dize halinde döndürür.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nf.read()\n```\n\n::: {.cell-output .cell-output-display execution_count=69}\n```\n\"Ey Türk Gençliği!\\nBirinci vazifen, \\nTürk istiklâlini, Türk Cumhuriyeti'ni, \\nilelebet muhafaza ve müdafaa etmektir.\\n\"\n```\n:::\n:::\n\n\nAçılmış dosyalarla işimiz bittiğinde kapatmamız gerekir, yoksa bellekte birikip yer işgal edebilirler.\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nf.close()\n```\n:::\n\n\n`readlines()` metodu, satırlardan oluşan bir liste döndürür:\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nf = open(\"deneme.txt\")\nf.readlines()\n```\n\n::: {.cell-output .cell-output-display execution_count=71}\n```\n['Ey Türk Gençliği!\\n',\n 'Birinci vazifen, \\n',\n \"Türk istiklâlini, Türk Cumhuriyeti'ni, \\n\",\n 'ilelebet muhafaza ve müdafaa etmektir.\\n']\n```\n:::\n:::\n\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nf.close()\n```\n:::\n\n\nBir dosya nesnesi bir _iteratördür_; bütün dosyayı bir kerede belleğe yüklemez, ama talep geldikçe satırları birer birer verir. `readline()` metodu dosyadaki mevcut satırı okumak için kullanılır. Her yeni `readline()` çağrısı bir sonraki satırı getirir.\n\n::: {.cell execution_count=7}\n``` {.python .cell-code}\nf = open(\"deneme.txt\")\nf.readline()\n```\n\n::: {.cell-output .cell-output-display execution_count=73}\n```\n'Ey Türk Gençliği!\\n'\n```\n:::\n:::\n\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nf.readline()\n```\n\n::: {.cell-output .cell-output-display execution_count=74}\n```\n'Birinci vazifen, \\n'\n```\n:::\n:::\n\n\nDosya nesnesi bir iteratör olduğu için `for` döngüsünde kullanılabilir. Bir dosyayı satır satır işlemek için şöyle bir döngü kurulur.\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\nfor satır in f:\n    print(satır.upper(),end=\"\")\nf.close()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nTÜRK ISTIKLÂLINI, TÜRK CUMHURIYETI'NI, \nILELEBET MUHAFAZA VE MÜDAFAA ETMEKTIR.\n```\n:::\n:::\n\n\n### Context manager `with ... as`\n\nYukarıda, dosyayı `open()` ile açtıktan sonra `close()` metoduyla kapatmak gerektiğini söyledik. Bu basit bir kural olsa da, karmaşık programlar içinde gözden kaçabiliyor. Dosya açma/kapama işlemini daha düzenli hale getirmek için Python programcıları _context manager_ denen bir yapı kullanırlar. Bir context manager oluşturmak için `with ... as` komutu kullanılır.\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\nwith open(\"deneme.txt\") as f:\n    print(f.read())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nEy Türk Gençliği!\nBirinci vazifen, \nTürk istiklâlini, Türk Cumhuriyeti'ni, \nilelebet muhafaza ve müdafaa etmektir.\n\n```\n:::\n:::\n\n\nContext manager ayrı ve geniş bir konudur, ayrıntısı için [Python belgelerine](https://docs.python.org/3/reference/compound_stmts.html#with) bakabilirsiniz. Bizim açımızdan önemli olan, burada `with` bloku bitince dosyanın otomatik olarak kapatılmasıdır. Dosyanın kapanmış olduğunu, dosya nesnesinin `closed` değişkeninin durumuyla kontrol edebiliriz.\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\nf.closed\n```\n\n::: {.cell-output .cell-output-display execution_count=77}\n```\nTrue\n```\n:::\n:::\n\n\n### Dosyaya yazmak\n\nBir dosyaya yazmak için `open()` fonksiyonunda `\"w\"` (write) modunu kullanırız.\n\n::: {.cell execution_count=12}\n``` {.python .cell-code}\nf = open(\"deneme2.txt\", \"w\")\n```\n:::\n\n\nBu komutla, mevcut dizinde _deneme2.txt_ dosyası yoksa yaratılır, varsa mevcut içeriği silinip üstüne yeni veri yazılır. Açılan dosyaya bir dize yazmak için `write()` metodu kullanılır.\n\n::: {.cell execution_count=13}\n``` {.python .cell-code}\nf.write(\"ABCDE\\n\")\nf.write(\"123456\\n\")\nf.write(\"wxyz\\n\")\nf.close()\n```\n:::\n\n\nDosyayı açarak, veya `%cat` sihirini kullanarak içeriğine bakabiliriz.\n\n::: {.cell execution_count=14}\n``` {.python .cell-code}\n%cat deneme2.txt\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nABCDE\r\n123456\r\nwxyz\r\n```\n:::\n:::\n\n\nAynısını bir context manager ile de yapabiliriz:\n\n::: {.cell execution_count=15}\n``` {.python .cell-code}\nwith open(\"deneme2.txt\", \"w\") as f:\n    f.write(\"ABCDE\\n\")\n    f.write(\"123456\\n\")\n    f.write(\"wxyz\\n\")\n```\n:::\n\n\nDosyada mevcut bulunan verileri silmeden, yeni verilerin dosyanın altına eklenmesini istersek dosyayı `\"a\"` (append) modunda açmalıyız.\n\n::: {.cell execution_count=16}\n``` {.python .cell-code}\nwith open(\"deneme2.txt\", \"a\") as f:\n    f.write(\"Yeni satır 1\\n\")\n    f.write(\"Yeni satır 2\\n\")\n```\n:::\n\n\n::: {.cell execution_count=17}\n``` {.python .cell-code}\n%cat deneme2.txt\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nABCDE\r\n123456\r\nwxyz\r\nYeni satır 1\r\nYeni satır 2\r\n```\n:::\n:::\n\n\n## CSV dosya biçimi\n \nBir çok veri dosyasında veriler tablo halinde, her satırda bir _kayıt_ ve her sütunda o kayda ait bir _alan_ olacak şekilde düzenlenmişlerdir. Alanlar birbirlerinden boşlukla, virgülle, veya başka bir karakterle ayrılabilir. Bu tür bir dosya düzenine CSV (comma-separated values, virgülle ayrılmış değerler) adı verilir. CSV biçimindeki dosyaları okumak için yukarıda açıkladığımız genel yöntemleri kullanmak mümkünse de, Python'un `csv` modülü işleri basitleştirir. Sözgelişi MS Excel ve benzeri bir hesap tablosunu CSV biçiminde kaydedip, verileri Python ile okuyabilirsiniz; veya Python'la üretilen verileri CSV dosyası olarak kaydedip hesap tablosu uygulamasıyla açabilirsiniz.\n\n### CSV okuma\n\nÖnce bir örnek veri dosyası hazırlayalım.\n\n::: {.cell execution_count=18}\n``` {.python .cell-code}\n%%writefile ornek.csv\n\"Potter, H\",37,\"Londra, İngiltere\"\n\"Granger, H\",36,\"Sydney, Avustralya\"\n\"Weasley, Bill\",45,\"Bükreş, Romanya\"\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nWriting ornek.csv\n```\n:::\n:::\n\n\nBu örnekte isim ve adres alanı değerlerinin tırnak içinde yazıldığına dikkat edin. Eğer tırnak kullanılmasaydı, alanları virgülle ayırma kuralı bize `\"Potter\"`, `\"H\"`, `37`, `\"Londra\"`, `\"İngiltere\"` gibi beş ayrı alan verirdi. \n\nBir CSV dosyasını açtıktan sonra, `csv` modülündeki `reader()` fonksiyonunu kullanarak onu satır satır okuyacak bir iteratör nesnesi yaratırız. Sonra bu iteratör nesnesi üzerinde bir döngüyle dosyayı tarayabiliriz.\n\n::: {.cell execution_count=19}\n``` {.python .cell-code}\nimport csv\nwith open(\"ornek.csv\") as f:\n    okur = csv.reader(f)\n    for satır in okur:\n        print(satır)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n['Potter, H', '37', 'Londra, İngiltere']\n['Granger, H', '36', 'Sydney, Avustralya']\n['Weasley, Bill', '45', 'Bükreş, Romanya']\n```\n:::\n:::\n\n\nVeya dosyamızda alan ayırıcı olarak boşluk karakteri, alan gruplama için bölü işareti (`/`) kullanılmış olabilir. Bu durumda `reader()` fonksiyonundaki `delimiter` ve `quotechar` parametrelerini değiştirerek dosyayı doğru şekilde alabiliriz.\n\n::: {.cell execution_count=20}\n``` {.python .cell-code}\n%%writefile ornek2.csv\n/Potter, H/ 37 /Londra, İngiltere/\n/Granger, H/ 36 /Sydney, Avustralya/\n/Weasley, Bill/ 45 /Bükreş, Romanya/\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nWriting ornek2.csv\n```\n:::\n:::\n\n\n::: {.cell execution_count=21}\n``` {.python .cell-code}\nwith open(\"ornek2.csv\") as f:\n    okur = csv.reader(f, delimiter=\" \", quotechar=\"/\")\n    for satır in okur:\n        print(satır)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n['Potter, H', '37', 'Londra, İngiltere']\n['Granger, H', '36', 'Sydney, Avustralya']\n['Weasley, Bill', '45', 'Bükreş, Romanya']\n```\n:::\n:::\n\n\nGörüldüğü gibi, bir CSV dosyasında alan ayırma, gruplama, satır sonu karakterleri için farklı tercihler olabilir. Her bir tercih kümesine bir _lehçe_ (dialect) adı veriliyor. `csv.reader()` için varsayılan lehçe olan `\"excel\"`, MS Excel ile üretilen CSV dosyalarını okumaya ayarlıdır. Ancak yukarıda gördüğümüz gibi bu tercihler kolaylıkla değiştirilebilir.\n\nEğer özel bir CSV biçimini sık sık kullanıyorsanız, o lehçeye özel bir `Dialect` nesnesi oluşturup `reader()` ile birlikte kullanabilirsiniz. Bunun ayrıntılarını [Python belgelerinden](https://docs.python.org/3/library/csv.html) öğrenebilirsiniz.\n\n### CSV yazma\n\nElimizdeki verileri bir CSV dosyasına yazmak için önce `csv` modülünün `writer()` fonksiyonuyla bir yazıcı nesnesi yaratırız. Yazıcı nesnesi verilen veriyi kullanılan \"lehçe\"ye uygun şekilde bir dizeye dönüştürür ve dosyaya yazar. Yazılacak dosyayı `open()` ile açarken `newline=\"\"` parametresi vermemiz gerekir.\n\nYazıcı nesnesinin `writerow()` metodu yazılacak satırı bir liste olarak alır.\n\n::: {.cell execution_count=22}\n``` {.python .cell-code}\nwith open(\"ornek3.csv\", \"w\", newline=\"\") as f:\n    yazıcı = csv.writer(f)\n    yazıcı.writerow(['Potter, H', '37', 'Londra, İngiltere'])\n    yazıcı.writerow(['Granger, H', '36', 'Sydney, Avustralya'])\n```\n:::\n\n\nDosyanın içeriğine bakarak doğru yazılıp yazılmadığını kontrol edelim\n\n::: {.cell execution_count=23}\n``` {.python .cell-code}\n%cat ornek3.csv\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\"Potter, H\",37,\"Londra, İngiltere\"\r\r\n\"Granger, H\",36,\"Sydney, Avustralya\"\r\r\n```\n:::\n:::\n\n\n### Pandas ile CSV okuma\n\nCSV dosyalarını veri analizi paketi _pandas_ ile de okumak ve yazmak mümkündür. Pandas ile CSV okumak hem daha basittir, hem de `csv` modülünde bulunmayan sözgelişi veri içindeki yorumları elemek, sadece istenen sütunları almak gibi ince ayarlara da imkan verir.\n\nPandas'ın `read_csv()` fonksiyonu dosyanın içeriğini bir veri çerçevesi olarak okur; ardından bu veri çerçevesinden çeşitli satırlar veya sütunlar alınabilir. Pandas kullanımı bu notların kapsamı dışında olduğu için ayrıntıya girmiyorum.\n\n## Diğer dosya formatları\n\nBirçok dosya biçimi için Python'da özelleşmiş kütüphaneler vardır. Bunların bazılarına değinelim.\n\n### JSON\n\nBirçok internet hizmeti API'si, sorgulama sonuçlarını JSON biçiminde bir dosya olarak verir (sözgelişi daha önce [Foursquare](http://www.veridefteri.com/2018/01/23/foursquare-api/), [Weather Underground](http://www.veridefteri.com/2018/03/22/weather-underground-api/) ve [Star Wars](http://www.veridefteri.com/2017/12/13/veri-defteri-ben-seviyor-cok/) API'lerini JSON verilerini incelemiştik). Python standart kütüphanesindeki `json` modülü, JSON biçimli bir dosyayı okuyup bir Python sözlük veya listesine dönüştüren, ve Python nesnelerinden JSON biçimli bir dosya oluşturan fonksiyonları içerir.\n\n[Mockaroo](https://www.mockaroo.com/) sitesini kullanarak yalancı veri içeren küçük bir JSON dosyası üretelim.\n\n::: {.cell execution_count=24}\n``` {.python .cell-code}\n%%writefile yalanci_veri.json\n[{\n  \"id\": 1,\n  \"first_name\": \"Fredia\",\n  \"last_name\": \"Waith\",\n  \"email\": \"fwaith0@tamu.edu\"\n}, {\n  \"id\": 2,\n  \"first_name\": \"Rafaello\",\n  \"last_name\": \"Rowthorn\",\n  \"email\": \"rrowthorn1@stanford.edu\"\n}, {\n  \"id\": 3,\n  \"first_name\": \"Harriette\",\n  \"last_name\": \"Patters\",\n  \"email\": \"hpatters2@samsung.com\"\n}]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nWriting yalanci_veri.json\n```\n:::\n:::\n\n\nŞimdi bu dosyayı açıp, içeriğini yorumlayalım ve bir Python nesnesine aktaralım.\n\n::: {.cell execution_count=25}\n``` {.python .cell-code}\nimport json\nwith open(\"yalanci_veri.json\") as f:\n    yalanciveriler = json.load(f)\n```\n:::\n\n\nBu işlem sonucunda bir sözlükler listesi elde etmiş oluruz. Bilindik indeksleme işlemleriyle tek tek elemanlara ulaşabiliriz.\n\n::: {.cell execution_count=26}\n``` {.python .cell-code}\nyalanciveriler[1][\"first_name\"], yalanciveriler[1][\"email\"]\n```\n\n::: {.cell-output .cell-output-display execution_count=92}\n```\n('Rafaello', 'rrowthorn1@stanford.edu')\n```\n:::\n:::\n\n\nŞimdi JSON dosyası yazmayı görelim. Elimizdeki veriye bir satır daha ekleyelim ve nesnenin yeni halini `json.dump()` ile dosyaya yazalım.\n\n::: {.cell execution_count=27}\n``` {.python .cell-code}\nyalanciveriler.append(\n{\n  \"id\": 4,\n  \"first_name\": \"Giffer\",\n  \"last_name\": \"Dur\",\n  \"email\": \"gdur2@cnbc.com\"\n})\n\nwith open(\"yalanci_veri.json\", \"w\") as f:\n    json.dump(yalanciveriler,f)\n```\n:::\n\n\nDosyanın içeriğine bakarak beklediğimiz şekilde yazıldığını görebiliyoruz.\n\n::: {.cell execution_count=28}\n``` {.python .cell-code}\n%cat yalanci_veri.json\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[{\"id\": 1, \"first_name\": \"Fredia\", \"last_name\": \"Waith\", \"email\": \"fwaith0@tamu.edu\"}, {\"id\": 2, \"first_name\": \"Rafaello\", \"last_name\": \"Rowthorn\", \"email\": \"rrowthorn1@stanford.edu\"}, {\"id\": 3, \"first_name\": \"Harriette\", \"last_name\": \"Patters\", \"email\": \"hpatters2@samsung.com\"}, {\"id\": 4, \"first_name\": \"Giffer\", \"last_name\": \"Dur\", \"email\": \"gdur2@cnbc.com\"}]\n```\n:::\n:::\n\n\n### HTML\n\nHTML dosyaları zaten düz metinden oluştuğu için onları okumakta teknik bir zorluk yok. HTML işlemede asıl istenen şey _parsing_, yani çeşitli HTML elemanlarına erişebilmektir. Söz gelişi, bir HTML'deki bağlantıları almak, tablo veriyi okumak gibi işlemler yapmamız gerekebilir. Bu tür işlemler bu yazı dizisinin kapsamını aşıyor. İlgilenenler, en çok kullanılan araçlardan biri olan [_Beautiful Soup_ modülüyle](https://www.crummy.com/software/BeautifulSoup/bs4/doc/) denemeler yapabilirler.\n\n### Excel\n\nMS Excel dosyalarını CSV olarak kaydederseniz _CSV okuma/yazma_ kısmındaki yöntemleri kullanabilirsiniz. Bunu istemiyorsanız, veya tablodaki verileriniz bu işleme uygun değilse, veya birden fazla yapraktan oluşuyorsa, Excel dosyasını doğrudan açmak için [_xlrd_ modülünü](http://xlrd.readthedocs.io/en/latest/) kullanabilirsiniz.\n\nDaha geniş özelliklere sahip bir paket olan [_pyexcel_](http://pyexcel.readthedocs.io/en/latest/) ile hem okuma hem de yazmayı daha kolay işlemlerle yapabilirsiniz.\n\n_Pandas_ paketinin `read_excel()` fonksiyonu ile bir Excel dosyasını doğrudan okuyarak bir veri çerçevesi haline getirebilirsiniz. Kullanımına bir örnek görmek için [\"Groupby\" yazımıza](http://www.veridefteri.com/2017/10/30/groupby/) bakabilirsiniz. \nWord\n\n---\nMS Word belgelerinin içinden metin almak, belge yaratmak ve varolan belgeye içerik eklemek için [_python-docx_](https://python-docx.readthedocs.io/en/latest/index.html) modülü kullanılabilir. Örnekler için Al Sweigart'ın _Automate The Boring Stuff with Python_ [kitabına](https://automatetheboringstuff.com/chapter13/) bakabilirsiniz.\n\n### PDF\n\nPDF dosyalarından bilgi almak, PDF dosyası yaratmak, mevcut dosyada değişiklik yapmak gibi işler için [_pyPDF2_](https://pythonhosted.org/PyPDF2/) modülünü kullanabilirsiniz. Sweigart'ın _Automate The Boring Stuff with Python_ [kitabında] (https://automatetheboringstuff.com/chapter13/) bu modülün kullanımına dair açıklayıcı örnekler bulabilirsiniz.\n\n### ZIP\nPython standart kütüphanesindeki [_zipfile_ modülü](https://docs.python.org/3/library/zipfile.html), ZIP formatında sıkıştırma ve açma fonksiyonları sağlar.\nBasit bir örnek olarak, yukarıda kullandığımız _deneme.txt_ ve *yalanci_veri.json* dosyalarını sıkıştırarak bir arşiv dosyası oluşturalım.\n\n::: {.cell execution_count=29}\n``` {.python .cell-code}\nimport zipfile\nwith zipfile.ZipFile(\"arsiv.zip\",\"w\") as z:\n    z.write(\"deneme.txt\")\n    z.write(\"yalanci_veri.json\")\n```\n:::\n\n\nMevcut bir arşive bir dosya eklemek istiyorsak, `ZipFile()` fonksiyonunun açılma modunu `\"w\"` yerine `\"a\"` yaparız.\n\n`ZipFile()` fonksiyonu, yukarıda gördüğümüz `open()` gibi çalışır. Arşivi açmak için `ZipFile()` fonksiyonunu okuma modunda kullanırız, ve arşiv dosyası nesnesine ait `open()` metoduyla dosyayı açarız. Açılan dosyanın içeriği `read()`, `readline()` veya `readlines()` metodlarıyla okunabilir. Bu metodlar kodlanmış dizeler döndürdüğü için `decode()` dize metoduyla Unicode'a çevrilmelidir.\n\n::: {.cell execution_count=30}\n``` {.python .cell-code}\nwith zipfile.ZipFile('arsiv.zip') as z:\n    with z.open('deneme.txt') as f:\n        print(f.read().decode(\"utf-8\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nEy Türk Gençliği!\nBirinci vazifen, \nTürk istiklâlini, Türk Cumhuriyeti'ni, \nilelebet muhafaza ve müdafaa etmektir.\n\n```\n:::\n:::\n\n\nBir ZIP arşivindeki bir dosyayı açarak diske kaydetmek için `extract()`, arşivdeki bütün dosyaları açmak için `extractall()` fonksiyonları kullanabiliriz.\n\n## Değişkenlerimizi kaydetmek: pickle\n\nBir oturumda hazırladığınız değişkenleri, oturumu kapattığınızda kaybetmemek isterseniz bunları ikili (binary) bir veri yapısı haline getirip diske kaydetmeniz gerekir. Bu işi standart kütüphanedeki [_pickle_ modülü](https://docs.python.org/3/library/pickle.html) ile yapabilirsiniz. Neredeyse bütün Python nesnelerini (kendi tanımladığımız nesne sınıfları dahil) dosyaya kaydetmeniz ve sonra tekrar okumanız mümkündür. Bu işleme _serialization_ adı verilir.\n\nBirkaç değişken tanımlayalım.\n\n::: {.cell execution_count=31}\n``` {.python .cell-code}\nx = 3.14159\nL = [1,3,2,5,4]\nD = {\"abc\": 123, \"def\": 456}\ndef fon(x):\n    return x*x\n```\n:::\n\n\nVerileri kaydetmek istediğimiz dosyayı ikili yazma modunda açalım ve _pickle_ modülündeki `dump()` fonksiyonuyla değişkenleri dosyaya ekleyelim.\n\n::: {.cell execution_count=32}\n``` {.python .cell-code}\nimport pickle\nwith open(\"data.p\", \"wb\") as f:\n    pickle.dump(x,f)\n    pickle.dump(L,f)\n    pickle.dump(D,f)\n    pickle.dump(fon,f)\n```\n:::\n\n\nDeğişkenleri dosyadan okumak için `load()` fonksiyonunu kullanırız. Nesneler dosyaya kondukları sırayla geri alınırlar. Değişkenlerin orijinal adını kullanmamız gerekmez.\n\n::: {.cell execution_count=33}\n``` {.python .cell-code}\nwith open(\"data.p\", \"rb\") as f:\n    y = pickle.load(f)\n    print(y)\n    J = pickle.load(f)\n    print(J)\n    F = pickle.load(f)\n    print(F)\n    G = pickle.load(f)\n    print(G(y))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n3.14159\n[1, 3, 2, 5, 4]\n{'abc': 123, 'def': 456}\n9.869587728099999\n```\n:::\n:::\n\n\nBazı nesneler _pickle_ ile kaydedilemezler; ağ bağlantıları, veri tabanı bağlantıları, açık dosya nesneleri gibi.\n\nDikkat: _pickle_ işlemleri herhangi bir emniyet tedbiri içermez. Pickle dosyasının içindeki nesne `load()` ile doğrudan doğruya çalıştırılır. Bu nesnenin içinde kötü amaçlı bir kod parçası varsa sisteminize zarar gelebilir. Bu yüzden bilmediğiniz bir yerden gelen pickle dosyalarını açmayın. \n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}